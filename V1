-- Neon UI (Rayfield-like) by you
-- Features: tabs, dropdown, toggle, slider, keybind, autoscale, draggable, mobile open button
-- Drop this into a raw file and load with loadstring(game:HttpGet("RAW_URL"))()

-- ======= Init / safety checks =======
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")

if not CoreGui then
	warn("CoreGui not available")
	return
end

-- Prevent duplicate GUI
local existing = CoreGui:FindFirstChild("NeonUI_ByYou")
if existing then existing:Destroy() end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "NeonUI_ByYou"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- ======= Auto-scale logic =======
local function computeScale()
	local v = workspace.CurrentCamera and workspace.CurrentCamera.ViewportSize or Vector2.new(1280,720)
	-- base on 1280 width -> scale ~ viewport.x/1280
	local scale = math.clamp(v.X / 1280, 0.7, 1.6)
	return scale
end

local uiScale = Instance.new("UIScale")
uiScale.Scale = computeScale()
uiScale.Parent = ScreenGui

RunService:GetPropertyChangedSignal("RenderStepped"):Connect(function() -- keep it updated
	pcall(function() uiScale.Scale = computeScale() end)
end)

-- ======= Styling helpers (neon) =======
local function makeNeonFrame(parent, size, pos)
	local f = Instance.new("Frame")
	f.Size = size
	f.Position = pos
	f.BackgroundColor3 = Color3.fromRGB(18,18,30)
	f.BackgroundTransparency = 0
	f.BorderSizePixel = 0
	f.Parent = parent

	local corner = Instance.new("UICorner", f)
	corner.CornerRadius = UDim.new(0,10)

	local stroke = Instance.new("UIStroke", f)
	stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
	stroke.LineJoinMode = Enum.LineJoinMode.Round
	stroke.Thickness = 2
	stroke.Color = Color3.fromRGB(80, 170, 255) -- neon blue
	stroke.Transparency = 0.25

	local glow = Instance.new("ImageLabel", f)
	glow.Name = "Glow"
	glow.AnchorPoint = Vector2.new(0.5,0.5)
	glow.Position = UDim2.new(0.5,0.5,0.5,0)
	glow.Size = UDim2.new(1.4,0,1.4,0)
	glow.Image = "rbxassetid://3570695787" -- plain circle
	glow.ImageColor3 = Color3.fromRGB(80,170,255)
	glow.ImageTransparency = 0.9
	glow.BackgroundTransparency = 1
	glow.ZIndex = 0

	return f
end

local function makeLabel(parent, text, size, pos)
	local lbl = Instance.new("TextLabel")
	lbl.Size = size
	lbl.Position = pos
	lbl.BackgroundTransparency = 1
	lbl.Text = text
	lbl.Font = Enum.Font.GothamSemibold
	lbl.TextSize = 14
	lbl.TextColor3 = Color3.fromRGB(220,220,255)
	lbl.TextXAlignment = Enum.TextXAlignment.Left
	lbl.Parent = parent
	return lbl
end

-- ======= Main UI =======
local Main = makeNeonFrame(ScreenGui, UDim2.new(0.38,0,0.56,0), UDim2.new(0.31,0,0.22,0))
Main.Name = "MainWindow"
Main.AnchorPoint = Vector2.new(0,0)
Main.Active = true
Main.ClipsDescendants = true

-- Header
local Header = Instance.new("Frame", Main)
Header.Size = UDim2.new(1,0,0,46)
Header.Position = UDim2.new(0,0,0,0)
Header.BackgroundTransparency = 1

local title = Instance.new("TextLabel", Header)
title.Size = UDim2.new(0.6,0,1,0)
title.Position = UDim2.new(0.02,0,0,0)
title.BackgroundTransparency = 1
title.Text = "Neon UI"
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextColor3 = Color3.fromRGB(200,240,255)
title.TextXAlignment = Enum.TextXAlignment.Left

local subtitle = Instance.new("TextLabel", Header)
subtitle.Size = UDim2.new(0.38,0,1,0)
subtitle.Position = UDim2.new(0.62,0,0,0)
subtitle.BackgroundTransparency = 1
subtitle.Text = "by You"
subtitle.Font = Enum.Font.Gotham
subtitle.TextSize = 12
subtitle.TextColor3 = Color3.fromRGB(170,200,255)
subtitle.TextXAlignment = Enum.TextXAlignment.Right

-- Close & Minimize buttons
local function makeHeaderButton(parent, pos, iconText)
	local btn = Instance.new("TextButton", parent)
	btn.Size = UDim2.new(0,32,0,22)
	btn.Position = pos
	btn.AnchorPoint = Vector2.new(0,0)
	btn.Text = iconText
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 14
	btn.TextColor3 = Color3.fromRGB(200,240,255)
	btn.BackgroundTransparency = 0.6
	btn.BackgroundColor3 = Color3.fromRGB(30,30,40)
	btn.BorderSizePixel = 0
	btn.AutoButtonColor = true
	local corner = Instance.new("UICorner", btn)
	corner.CornerRadius = UDim.new(0,6)
	return btn
end

local btnClose = makeHeaderButton(Header, UDim2.new(1,-38,0.1,0), "X")
local btnMin = makeHeaderButton(Header, UDim2.new(1,-76,0.1,0), "_")

btnClose.MouseButton1Click:Connect(function() Main:Destroy() end)
local minimized = false
btnMin.MouseButton1Click:Connect(function()
	minimized = not minimized
	for _,v in ipairs(Main:GetChildren()) do
		if v ~= Header then v.Visible = not minimized end
	end
end)

-- ======= Draggable =======
local dragging, dragStart, startPos, dragInput
Header.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = Main.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)
Header.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)
UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		local delta = input.Position - dragStart
		Main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end
end)

-- ======= Left sidebar: Tabs =======
local Sidebar = Instance.new("Frame", Main)
Sidebar.Size = UDim2.new(0,120,1,-46)
Sidebar.Position = UDim2.new(0,0,0,46)
Sidebar.BackgroundTransparency = 1

local TabsUI = Instance.new("UIListLayout", Sidebar)
TabsUI.Padding = UDim.new(0,8)
TabsUI.HorizontalAlignment = Enum.HorizontalAlignment.Center
TabsUI.SortOrder = Enum.SortOrder.LayoutOrder
TabsUI.VerticalAlignment = Enum.VerticalAlignment.Top

local TabButtons = {}
local Pages = {}

local contentHolder = Instance.new("Frame", Main)
contentHolder.Size = UDim2.new(1,-120,1,-46)
contentHolder.Position = UDim2.new(0,120,0,46)
contentHolder.BackgroundTransparency = 1
contentHolder.ClipsDescendants = true

local function createTab(name)
	local btn = Instance.new("TextButton", Sidebar)
	btn.Name = name.."Tab"
	btn.Size = UDim2.new(0.9,0,0,36)
	btn.BackgroundColor3 = Color3.fromRGB(20,20,30)
	btn.TextColor3 = Color3.fromRGB(200,240,255)
	btn.Text = name
	btn.Font = Enum.Font.GothamSemibold
	btn.TextSize = 14
	btn.AutoButtonColor = true
	local corner = Instance.new("UICorner", btn)
	corner.CornerRadius = UDim.new(0,8)

	local page = Instance.new("ScrollingFrame", contentHolder)
	page.Name = name.."Page"
	page.Size = UDim2.new(1,0,1,0)
	page.Position = UDim2.new(0,0,0,0)
	page.CanvasSize = UDim2.new(0,0)
	page.BackgroundTransparency = 1
	page.Visible = false
	page.ScrollBarThickness = 6

	local layout = Instance.new("UIListLayout", page)
	layout.Padding = UDim.new(0,10)
	layout.SortOrder = Enum.SortOrder.LayoutOrder
	layout.HorizontalAlignment = Enum.HorizontalAlignment.Center

	local padding = Instance.new("UIPadding", page)
	padding.PaddingTop = UDim.new(0,8)
	padding.PaddingLeft = UDim.new(0,8)
	padding.PaddingRight = UDim.new(0,8)

	btn.MouseButton1Click:Connect(function()
		for _,p in pairs(Pages) do p.Visible = false end
		page.Visible = true
		-- active style
		for _,b in pairs(TabButtons) do b.BackgroundColor3 = Color3.fromRGB(20,20,30) end
		btn.BackgroundColor3 = Color3.fromRGB(30,60,140) -- active
	end)

	table.insert(TabButtons, btn)
	table.insert(Pages, page)
	return {
		button = btn,
		page = page,
	}
end

-- ======= UI Component Factory =======
local Library = {}
Library.__index = Library

local function createElementBase(parent)
	local base = Instance.new("Frame")
	base.Size = UDim2.new(1,-20,0,48)
	base.BackgroundTransparency = 1
	base.Parent = parent
	return base
end

function Library.addButton(page, text, callback)
	local base = createElementBase(page)
	local btn = Instance.new("TextButton", base)
	btn.Size = UDim2.new(1,0,1,0)
	btn.Text = text
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 14
	btn.TextColor3 = Color3.fromRGB(240,240,255)
	btn.BackgroundColor3 = Color3.fromRGB(38,40,60)
	btn.AutoButtonColor = true
	btn.BorderSizePixel = 0
	local corner = Instance.new("UICorner", btn)
	corner.CornerRadius = UDim.new(0,8)
	btn.MouseButton1Click:Connect(function()
		pcall(callback)
	end)
	return btn
end

function Library.addToggle(page, text, default, callback)
	local base = createElementBase(page)
	local label = makeLabel(base, text, UDim2.new(0.6,0,1,0), UDim2.new(0,10,0,0))
	local btn = Instance.new("TextButton", base)
	btn.Size = UDim2.new(0.32,0,0.7,0)
	btn.Position = UDim2.new(0.66,0,0.15,0)
	btn.Text = default and "ON" or "OFF"
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 13
	btn.BackgroundColor3 = default and Color3.fromRGB(60,200,130) or Color3.fromRGB(120,120,140)
	btn.TextColor3 = Color3.fromRGB(20,20,26)
	local corner = Instance.new("UICorner", btn)
	corner.CornerRadius = UDim.new(0,6)
	local state = default or false
	btn.MouseButton1Click:Connect(function()
		state = not state
		btn.Text = state and "ON" or "OFF"
		btn.BackgroundColor3 = state and Color3.fromRGB(60,200,130) or Color3.fromRGB(120,120,140)
		pcall(callback, state)
	end)
	return btn
end

function Library.addSlider(page, text, minV, maxV, default, callback)
	local base = createElementBase(page)
	makeLabel(base, text, UDim2.new(0.5,0,0.4,0), UDim2.new(0,10,0,6))
	local bar = Instance.new("Frame", base)
	bar.Size = UDim2.new(0.9,0,0.36,0)
	bar.Position = UDim2.new(0.05,0,0.55,0)
	bar.BackgroundColor3 = Color3.fromRGB(35,35,50)
	bar.BorderSizePixel = 0
	local corner = Instance.new("UICorner", bar)
	corner.CornerRadius = UDim.new(0,6)
	
	local fill = Instance.new("Frame", bar)
	fill.Size = UDim2.new(0.5,0,1,0)
	fill.Position = UDim2.new(0,0,0,0)
	fill.BackgroundColor3 = Color3.fromRGB(80,170,255)
	local fillCorner = Instance.new("UICorner", fill)
	fillCorner.CornerRadius = UDim.new(0,6)

	local valueLabel = Instance.new("TextLabel", base)
	valueLabel.Size = UDim2.new(0.2,0,0.4,0)
	valueLabel.Position = UDim2.new(0.78,0,0.06,0)
	valueLabel.BackgroundTransparency = 1
	valueLabel.Text = tostring(default)
	valueLabel.TextColor3 = Color3.fromRGB(220,220,255)
	valueLabel.Font = Enum.Font.GothamBold
	valueLabel.TextSize = 13
	valueLabel.TextXAlignment = Enum.TextXAlignment.Right

	local value = default or minV
	local dragging = false

	local function updateFillFromPos(absX)
		local rel = (absX - bar.AbsolutePosition.X) / bar.AbsoluteSize.X
		rel = math.clamp(rel, 0, 1)
		fill.Size = UDim2.new(rel,0,1,0)
		value = math.floor(minV + (maxV-minV)*rel)
		valueLabel.Text = tostring(value)
		pcall(callback, value)
	end

	bar.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			updateFillFromPos(input.Position.X)
		end
	end)
	bar.InputEnded:Connect(function(input)
		dragging = false
	end)
	UserInputService.InputChanged:Connect(function(input)
		if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
			updateFillFromPos(input.Position.X)
		end
	end)
	return {frame = base, set = function(v)
		local rel = (v - minV) / (maxV - minV)
		fill.Size = UDim2.new(math.clamp(rel,0,1),0,1,0)
		value = v
		valueLabel.Text = tostring(v)
	end}
end

function Library.addDropdown(page, text, options, callback)
	local base = createElementBase(page)
	local label = makeLabel(base, text, UDim2.new(0.5,0,1,0), UDim2.new(0,10,0,0))
	local box = Instance.new("TextButton", base)
	box.Size = UDim2.new(0.4,0,0.72,0)
	box.Position = UDim2.new(0.54,0,0.14,0)
	box.Text = options[1] or "Select"
	box.Font = Enum.Font.Gotham
	box.TextSize = 13
	box.BackgroundColor3 = Color3.fromRGB(34,34,50)
	box.TextColor3 = Color3.fromRGB(220,220,255)
	local corner = Instance.new("UICorner", box)
	corner.CornerRadius = UDim.new(0,6)

	local dropdown = Instance.new("Frame", base)
	dropdown.Size = UDim2.new(0, box.AbsoluteSize.X, 0, 0)
	dropdown.Position = UDim2.new(0.54,0,0.92,0)
	dropdown.BackgroundColor3 = Color3.fromRGB(28,28,40)
	dropdown.BorderSizePixel = 0
	dropdown.ClipsDescendants = true
	dropdown.Visible = false
	local ddCorner = Instance.new("UICorner", dropdown)
	ddCorner.CornerRadius = UDim.new(0,6)

	local function populate()
		for i,v in ipairs(dropdown:GetChildren()) do if v:IsA("TextButton") then v:Destroy() end end
		local y = 0
		for i,opt in ipairs(options) do
			local optBtn = Instance.new("TextButton", dropdown)
			optBtn.Size = UDim2.new(1,0,0,28)
			optBtn.Position = UDim2.new(0,0,0,y)
			optBtn.Text = opt
			optBtn.Font = Enum.Font.Gotham
			optBtn.TextSize = 13
			optBtn.BackgroundTransparency = 1
			optBtn.TextColor3 = Color3.fromRGB(220,220,255)
			optBtn.AutoButtonColor = true
			optBtn.MouseButton1Click:Connect(function()
				box.Text = opt
				dropdown.Visible = false
				pcall(callback, opt)
			end)
			y = y + 28
		end
		dropdown.Size = UDim2.new(0, box.AbsoluteSize.X, 0, y)
	end

	box.MouseButton1Click:Connect(function()
		dropdown.Visible = not dropdown.Visible
		if dropdown.Visible then populate() end
	end)

	-- Hide when clicked elsewhere
	UserInputService.InputBegan:Connect(function(input, gp)
		if gp then return end
		if dropdown.Visible and input.UserInputType == Enum.UserInputType.MouseButton1 then
			local mousePos = input.Position
			local absPos = dropdown.AbsolutePosition
			local absSize = dropdown.AbsoluteSize
			if not (mousePos.X >= absPos.X and mousePos.X <= absPos.X + absSize.X and mousePos.Y >= absPos.Y and mousePos.Y <= absPos.Y + absSize.Y) then
				dropdown.Visible = false
			end
		end
	end)

	return {
		get = function() return box.Text end,
		set = function(val) box.Text = val end,
	}
end

function Library.addKeybind(page, text, defaultKey, callback)
	local base = createElementBase(page)
	local label = makeLabel(base, text, UDim2.new(0.5,0,1,0), UDim2.new(0,10,0,0))
	local bindBtn = Instance.new("TextButton", base)
	bindBtn.Size = UDim2.new(0.32,0,0.72,0)
	bindBtn.Position = UDim2.new(0.66,0,0.14,0)
	bindBtn.Text = "["..(defaultKey.Name or tostring(defaultKey)).."]"
	bindBtn.Font = Enum.Font.GothamBold
	bindBtn.TextSize = 13
	bindBtn.BackgroundColor3 = Color3.fromRGB(34,34,50)
	bindBtn.TextColor3 = Color3.fromRGB(220,220,255)
	local corner = Instance.new("UICorner", bindBtn)
	corner.CornerRadius = UDim.new(0,6)

	local currentKey = defaultKey
	local binding = false

	bindBtn.MouseButton1Click:Connect(function()
		binding = true
		bindBtn.Text = "[Press key]"
	end)

	local function endBind(key)
		currentKey = key
		bindBtn.Text = "["..tostring(currentKey.Name or currentKey).."]"
		binding = false
	end

	UserInputService.InputBegan:Connect(function(input, gp)
		if gp then return end
		if binding and input.UserInputType == Enum.UserInputType.Keyboard then
			endBind(input.KeyCode)
		elseif input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == currentKey then
			pcall(callback)
		end
	end)

	return {
		get = function() return currentKey end,
		set = function(k) currentKey = k; bindBtn.Text = "["..tostring(k.Name or k).."]" end
	}
end

-- ======= Build sample tabs & controls =======
local t1 = createTab("Main")
local t2 = createTab("Player")
local t3 = createTab("Settings")

-- activate first tab
t1.button:MouseButton1Click()

-- Add elements to Main
Library.addButton(t1.page, "Example Action", function()
	print("Example Action pressed")
end)

Library.addToggle(t1.page, "Auto Collect", false, function(state)
	print("Auto Collect:", state)
end)

Library.addSlider(t1.page, "Speed", 16, 200, 16, function(val)
	-- example: set walk speed (if you want)
	pcall(function()
		local plr = Players.LocalPlayer
		if plr and plr.Character and plr.Character:FindFirstChild("Humanoid") then
			plr.Character.Humanoid.WalkSpeed = val
		end
	end)
end)

Library.addDropdown(t1.page, "Mode", {"Normal","Aggressive","Passive"}, function(choice)
	print("Mode:", choice)
end)

-- Player tab
Library.addLabel = function(page, text)
	local base = createElementBase(page)
	local lbl = makeLabel(base, text, UDim2.new(1,0,1,0), UDim2.new(0,10,0,0))
	return lbl
end
Library.addLabel(t2.page, "Player Settings")

Library.addKeybind(t2.page, "Toggle UI Key", Enum.KeyCode.K, function()
	Main.Visible = not Main.Visible
end)

-- Settings
local dd = Library.addDropdown(t3.page, "Theme", {"Neon Blue","Neon Pink","Neon Green"}, function(choice)
	if choice == "Neon Blue" then
		for _,s in ipairs(Main:GetDescendants()) do
			if s:IsA("UIStroke") then s.Color = Color3.fromRGB(80,170,255) end
			if s:IsA("ImageLabel") and s.Name == "Glow" then s.ImageColor3 = Color3.fromRGB(80,170,255); s.ImageTransparency = 0.9 end
		end
	elseif choice == "Neon Pink" then
		for _,s in ipairs(Main:GetDescendants()) do
			if s:IsA("UIStroke") then s.Color = Color3.fromRGB(255,90,180) end
			if s:IsA("ImageLabel") and s.Name == "Glow" then s.ImageColor3 = Color3.fromRGB(255,90,180); s.ImageTransparency = 0.9 end
		end
	else
		for _,s in ipairs(Main:GetDescendants()) do
			if s:IsA("UIStroke") then s.Color = Color3.fromRGB(80,255,150) end
			if s:IsA("ImageLabel") and s.Name == "Glow" then s.ImageColor3 = Color3.fromRGB(80,255,150); s.ImageTransparency = 0.9 end
		end
	end
end)

-- ======= Mobile open button (for small screens) =======
local OpenButton = Instance.new("TextButton", ScreenGui)
OpenButton.Name = "OpenUIButton"
OpenButton.Size = UDim2.new(0,120,0,40)
OpenButton.Position = UDim2.new(0.03,0,0.86,0)
OpenButton.AnchorPoint = Vector2.new(0,0)
OpenButton.Text = "OPEN MENU"
OpenButton.Font = Enum.Font.GothamBold
OpenButton.TextSize = 14
OpenButton.BackgroundTransparency = 0.25
OpenButton.BackgroundColor3 = Color3.fromRGB(15,15,25)
OpenButton.TextColor3 = Color3.fromRGB(200,240,255)
local obcorner = Instance.new("UICorner", OpenButton)
obcorner.CornerRadius = UDim.new(0,8)
OpenButton.MouseButton1Click:Connect(function()
	Main.Visible = not Main.Visible
end)

-- Hide open button on very large screens optionally
RunService.RenderStepped:Connect(function()
	pcall(function()
		local w = workspace.CurrentCamera and workspace.CurrentCamera.ViewportSize.X or 1280
		if w > 900 then
			OpenButton.Visible = false
		else
			OpenButton.Visible = true
		end
	end)
end)

-- ======= Canvas size updater for pages =======
local function updateCanvasSizes()
	for _,page in ipairs(Pages) do
		local layout = page:FindFirstChildOfClass("UIListLayout")
		if layout then
			local total = 0
			for i,v in ipairs(page:GetChildren()) do
				if v:IsA("Frame") and v.Visible then
					total = total + v.AbsoluteSize.Y + layout.Padding.Offset
				end
			end
			page.CanvasSize = UDim2.new(0,0,0, total + 16)
		end
	end
end

RunService.RenderStepped:Connect(function()
	pcall(updateCanvasSizes)
end)

-- ======= Finished =======
print("Neon UI loaded. Customize as needed.")
